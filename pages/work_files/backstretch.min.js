/*
 Backstretch - v2.0.4 - 2013-06-19
 http://srobbin.com/jquery-plugins/backstretch/
 Copyright (c) 2013 Scott Robbin; Licensed MIT */
(function(a,d,p){a.fn.backstretch=function(c,b){c!==p&&0!==c.length||a.error("No images were supplied for Backstretch");0===a(d).scrollTop()&&d.scrollTo(0,0);return this.each(function(){var d=a(this),f=d.data("backstretch");if(f){if("string"==typeof c&&"function"==typeof f[c]){f[c](b);return}b=a.extend(f.options,b);f.destroy(!0)}f=new q(this,c,b);d.data("backstretch",f)})};a.backstretch=function(c,b){return a("body").backstretch(c,b).data("backstretch")};a.expr[":"].backstretch=function(c){return a(c).data("backstretch")!==
p};a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0};var t={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},u={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},q=function(c,b,e){this.options=a.extend({},a.fn.backstretch.defaults,e||{});this.images=a.isArray(b)?b:[b];a.each(this.images,function(){a("\x3cimg /\x3e")[0].src=this});this.isBody=
c===document.body;this.$container=a(c);this.$root=this.isBody?r?a(d):a(document):this.$container;c=this.$container.children(".backstretch").first();this.$wrap=c.length?c:a('\x3cdiv class\x3d"backstretch"\x3e\x3c/div\x3e').css(t).appendTo(this.$container);this.isBody||(c=this.$container.css("position"),b=this.$container.css("zIndex"),this.$container.css({position:"static"===c?"relative":c,zIndex:"auto"===b?0:b,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&
r?"fixed":"absolute"});this.index=0;this.show(this.index);a(d).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===d.pageYOffset&&(d.scrollTo(0,1),this.resize())},this))};q.prototype={resize:function(){try{var a={left:0,top:0},b=this.isBody?this.$root.width():this.$root.innerWidth(),e=b,f=this.isBody?d.innerHeight?d.innerHeight:this.$root.height():this.$root.innerHeight(),h=e/this.$img.data("ratio"),g;h>=f?(g=(h-f)/2,this.options.centeredY&&
(a.top="-"+g+"px")):(h=f,e=h*this.$img.data("ratio"),g=(e-b)/2,this.options.centeredX&&(a.left="-"+g+"px"));this.$wrap.css({width:b,height:f}).find("img:not(.deleteable)").css({width:e,height:h}).css(a)}catch(w){}return this},show:function(c){if(!(Math.abs(c)>this.images.length-1)){var b=this,e=b.$wrap.find("img").addClass("deleteable"),d={relatedTarget:b.$container[0]};b.$container.trigger(a.Event("backstretch.before",d),[b,c]);this.index=c;clearInterval(b.interval);b.$img=a("\x3cimg /\x3e").css(u).bind("load",
function(f){var g=this.width||a(f.target).width();f=this.height||a(f.target).height();a(this).data("ratio",g/f);a(this).fadeIn(b.options.speed||b.options.fade,function(){e.remove();b.paused||b.cycle();a(["after","show"]).each(function(){b.$container.trigger(a.Event("backstretch."+this,d),[b,c])})});b.resize()}).appendTo(b.$wrap);b.$img.attr("src",b.images[c]);return b}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?
this.images.length-1:this.index-1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(c){a(d).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);c||this.$wrap.remove();this.$container.removeData("backstretch")}};var g=
navigator.userAgent,m=navigator.platform,e=g.match(/AppleWebKit\/([0-9]+)/);e=!!e&&e[1];var k=g.match(/Fennec\/([0-9]+)/);k=!!k&&k[1];var n=g.match(/Opera Mobi\/([0-9]+)/),v=!!n&&n[1],l=g.match(/MSIE ([0-9]+)/);l=!!l&&l[1];var r=!((-1<m.indexOf("iPhone")||-1<m.indexOf("iPad")||-1<m.indexOf("iPod"))&&e&&534>e||d.operamini&&"[object OperaMini]"==={}.toString.call(d.operamini)||n&&7458>v||-1<g.indexOf("Android")&&e&&533>e||k&&6>k||"palmGetResource"in d&&e&&534>e||-1<g.indexOf("MeeGo")&&-1<g.indexOf("NokiaBrowser/8.5.0")||
l&&6>=l)})(jQuery,window);